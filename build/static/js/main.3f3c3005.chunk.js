(this["webpackJsonpalcazan-front"]=this["webpackJsonpalcazan-front"]||[]).push([[0],{70:function(e,t,s){},71:function(e,t,s){"use strict";s.r(t);var i=s(9),a=s(1),n=s.n(a),c=s(22),r=s.n(c),o=s(13),l=s.n(o),u=s(25),d="http://54.38.32.162/api/",m=d+"users",j=d+"cartes";function b(e){return l.a.defaults.headers.Authorization="Bearer "+e}var p={authenticate:function(e){return l.a.post("http://54.38.32.162/api/login_check",e).then((function(e){return e.data.token})).then((function(e){window.localStorage.setItem("authToken",e),b(e)}))},logout:function(){window.localStorage.removeItem("authToken"),delete l.a.defaults.headers.Authorization},setup:function(){var e=window.localStorage.getItem("authToken");e&&1e3*Object(u.a)(e).exp>(new Date).getTime()&&b(e)},isAuthenticated:function(){var e=window.localStorage.getItem("authToken");return!!(e&&1e3*Object(u.a)(e).exp>(new Date).getTime())},getUserInfo:function(){var e=window.localStorage.getItem("authToken");if(e){var t=Object(u.a)(e);return{pseudo:t.pseudo,email:t.email,id:t.id}}return{}}},h=s(4),x=n.a.createContext({isAuthenticated:!1,setIsAuthenticated:function(e){},user:{}}),O=s(0),v=function(e){var t=e.history,s=Object(a.useContext)(x),i=s.isAuthenticated,n=s.setIsAuthenticated;return Object(O.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-padding title-font",children:[Object(O.jsxs)(h.c,{to:"/",className:"navbar-brand",href:"#",children:[Object(O.jsx)("img",{src:"../img/A.F.png"}),"Alcazan Forest"]}),Object(O.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarColor02",children:[Object(O.jsx)("ul",{className:"navbar-nav mr-auto",children:i&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(h.c,{className:"nav-link link-dark",to:"/carte",children:"Carte"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(h.c,{className:"nav-link link-dark",to:"/profil",children:"Profil"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(h.c,{className:"nav-link link-dark",to:"/inventaire",children:"Inventaire"})})]})||Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(h.c,{className:"nav-link link-dark",to:"/preview",children:"APERCU"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(h.c,{className:"nav-link link-dark",to:"/about",children:"A PROPOS"})})]})}),Object(O.jsx)("ul",{className:"navbar-nav ml-auto",children:!i&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("li",{className:"nav-item link-dark",children:Object(O.jsx)(h.c,{to:"/inscription",className:"btn-sign",children:"Inscription"})}),Object(O.jsx)("li",{className:"nav-item link-dark",children:Object(O.jsx)(h.c,{to:"/connexion",className:"btn-sign",children:"connexion au jeu"})})]})||Object(O.jsx)("li",{className:"nav-link ml-auto",children:Object(O.jsx)("button",{onClick:function(){p.logout(),n(!1),t.push("/login")},className:"btn-sign btn-signout",children:"Deconnexion"})})})]})]})},f=(s.p,function(e){return Object(a.useEffect)((function(){!function(){var e=document.getElementById("text"),t=document.getElementById("bird1"),s=document.getElementById("bird2"),i=document.getElementById("forest"),a=document.getElementById("btn"),n=document.getElementById("rocks"),c=document.getElementById("war");window.addEventListener("scroll",(function(){var r=window.scrollY;e.style.top=40+-.05*r+"%",t.style.top=-1.5*r+"px",t.style.left=2*r+"px",s.style.top=-1.5*r+"px",s.style.left=-4*r+"px",a.style.marginTop=1.5*r+"px",n.style.top=-.12*r+"px",i.style.top=.25*r+"px",c.style.top=375+-.12*r+"px"}))}()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("section",{children:[Object(O.jsx)("h2",{id:"text",children:Object(O.jsx)("span",{children:" Alcazan Forest "})}),Object(O.jsx)("img",{src:"../img/bird1.png",alt:"",id:"bird1"}),Object(O.jsx)("img",{src:"../img/bird2.png",alt:"",id:"bird2"}),Object(O.jsx)("img",{src:"../img/sun.png",alt:"",id:"sun"}),Object(O.jsx)("img",{src:"../img/waterfall.png",alt:"",id:"forest"}),Object(O.jsx)("a",{href:"",id:"btn",children:Object(O.jsx)("span",{children:"S'inscrire"})}),Object(O.jsx)("img",{src:"../img/rocks1.png",alt:"",id:"rocks"}),Object(O.jsx)("img",{src:"../img/war.png",alt:"",id:"war"})]}),Object(O.jsxs)("div",{className:"sec",children:[Object(O.jsx)("h2",{}),"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci aliquid, amet aperiam asperiores assumenda beatae dicta est explicabo iste laborum magni maiores nobis quia rerum ut vitae voluptate? Ipsum, similique",Object(O.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Architecto, aspernatur dolorum error esse et illum libero molestias odio quam qui rem temporibus unde vero. Dolores dolorum fugit porro quod sunt?"}),Object(O.jsx)("p",{children:"Adipisci, atque corporis cumque debitis dolore dolorem eveniet fugiat illum in itaque iusto libero minus neque non numquam, officiis omnis pariatur quas quasi quibusdam ratione recusandae reiciendis rerum tenetur voluptatem."}),Object(O.jsx)("p",{children:"Ad culpa ducimus eius, et eveniet ex illum ipsam laborum minima, quia quod repudiandae. A consequuntur eligendi eos error labore laboriosam libero, magni maxime nesciunt perspiciatis rem, sapiente ut voluptas."}),Object(O.jsx)("p",{children:"Alias, eligendi enim eos iure molestias nostrum optio quas quo? Commodi cupiditate ducimus et eveniet facere harum illum inventore ipsa neque odio provident quaerat quod repudiandae, sequi veritatis, vitae voluptatem."}),Object(O.jsx)("p",{children:"Adipisci at ducimus et eveniet facilis ipsa iste itaque iusto quasi, rem, rerum, tempora! A aut consequuntur corporis delectus eaque eligendi, id impedit magnam nulla quaerat quam, reprehenderit, rerum sint!"}),"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci aliquid, amet aperiam asperiores assumenda beatae dicta est explicabo iste laborum magni maiores nobis quia rerum ut vitae voluptate? Ipsum, similique",Object(O.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Architecto, aspernatur dolorum error esse et illum libero molestias odio quam qui rem temporibus unde vero. Dolores dolorum fugit porro quod sunt?"}),Object(O.jsx)("p",{children:"Adipisci, atque corporis cumque debitis dolore dolorem eveniet fugiat illum in itaque iusto libero minus neque non numquam, officiis omnis pariatur quas quasi quibusdam ratione recusandae reiciendis rerum tenetur voluptatem."}),Object(O.jsx)("p",{children:"Ad culpa ducimus eius, et eveniet ex illum ipsam laborum minima, quia quod repudiandae. A consequuntur eligendi eos error labore laboriosam libero, magni maxime nesciunt perspiciatis rem, sapiente ut voluptas."}),Object(O.jsx)("p",{children:"Alias, eligendi enim eos iure molestias nostrum optio quas quo? Commodi cupiditate ducimus et eveniet facere harum illum inventore ipsa neque odio provident quaerat quod repudiandae, sequi veritatis, vitae voluptatem."}),Object(O.jsx)("p",{children:"Adipisci at ducimus et eveniet facilis ipsa iste itaque iusto quasi, rem, rerum, tempora! A aut consequuntur corporis delectus eaque eligendi, id impedit magnam nulla quaerat quam, reprehenderit, rerum sint!"}),"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci aliquid, amet aperiam asperiores assumenda beatae dicta est explicabo iste laborum magni maiores nobis quia rerum ut vitae voluptate? Ipsum, similique",Object(O.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Architecto, aspernatur dolorum error esse et illum libero molestias odio quam qui rem temporibus unde vero. Dolores dolorum fugit porro quod sunt?"}),Object(O.jsx)("p",{children:"Adipisci, atque corporis cumque debitis dolore dolorem eveniet fugiat illum in itaque iusto libero minus neque non numquam, officiis omnis pariatur quas quasi quibusdam ratione recusandae reiciendis rerum tenetur voluptatem."}),Object(O.jsx)("p",{children:"Ad culpa ducimus eius, et eveniet ex illum ipsam laborum minima, quia quod repudiandae. A consequuntur eligendi eos error labore laboriosam libero, magni maxime nesciunt perspiciatis rem, sapiente ut voluptas."}),Object(O.jsx)("p",{children:"Alias, eligendi enim eos iure molestias nostrum optio quas quo? Commodi cupiditate ducimus et eveniet facere harum illum inventore ipsa neque odio provident quaerat quod repudiandae, sequi veritatis, vitae voluptatem."}),Object(O.jsx)("p",{children:"Adipisci at ducimus et eveniet facilis ipsa iste itaque iusto quasi, rem, rerum, tempora! A aut consequuntur corporis delectus eaque eligendi, id impedit magnam nulla quaerat quam, reprehenderit, rerum sint!"}),"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci aliquid, amet aperiam asperiores assumenda beatae dicta est explicabo iste laborum magni maiores nobis quia rerum ut vitae voluptate? Ipsum, similique",Object(O.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Architecto, aspernatur dolorum error esse et illum libero molestias odio quam qui rem temporibus unde vero. Dolores dolorum fugit porro quod sunt?"}),Object(O.jsx)("p",{children:"Adipisci, atque corporis cumque debitis dolore dolorem eveniet fugiat illum in itaque iusto libero minus neque non numquam, officiis omnis pariatur quas quasi quibusdam ratione recusandae reiciendis rerum tenetur voluptatem."}),Object(O.jsx)("p",{children:"Ad culpa ducimus eius, et eveniet ex illum ipsam laborum minima, quia quod repudiandae. A consequuntur eligendi eos error labore laboriosam libero, magni maxime nesciunt perspiciatis rem, sapiente ut voluptas."}),Object(O.jsx)("p",{children:"Alias, eligendi enim eos iure molestias nostrum optio quas quo? Commodi cupiditate ducimus et eveniet facere harum illum inventore ipsa neque odio provident quaerat quod repudiandae, sequi veritatis, vitae voluptatem."}),Object(O.jsx)("p",{children:"Adipisci at ducimus et eveniet facilis ipsa iste itaque iusto quasi, rem, rerum, tempora! A aut consequuntur corporis delectus eaque eligendi, id impedit magnam nulla quaerat quam, reprehenderit, rerum sint!"})]})]})}),g=s(6),q=s(5),N=s.n(q),y=s(8),k=s(16),w=s(3);var C={register:function(e){return l.a.post(m,e)},find:function(e){return l.a.get(m+"/"+e).then((function(e){return e.data}))},updatePosition:function(e,t){return l.a.patch(m+"/"+e,{caseAbscisse:t.caseAbscisse,caseOrdonnee:t.caseOrdonnee})},getCaracteristiques:function(e){return l.a.get(d+"joueur/caracteristiques").then((function(e){return e.data["hydra:member"]}))},updateCaracteristiques:function(e){return l.a.post(d+"joueur/caracteristiques/update",e)}},A=function(e){var t=e.history,s=Object(a.useContext)(x).setIsAuthenticated,n=Object(a.useState)({username:"",password:""}),c=Object(i.a)(n,2),r=c[0],o=c[1],l=Object(a.useState)(),u=Object(i.a)(l,2),d=u[0],m=u[1],j=function(e){e.preventDefault();var t=e.currentTarget.value,s=e.currentTarget.name;o(Object(w.a)(Object(w.a)({},r),{},Object(k.a)({},s,t)))},b=function(){var e=Object(y.a)(N.a.mark((function e(i){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.preventDefault(),e.prev=1,e.next=4,p.authenticate(r);case 4:m(""),s(!0),t.replace("/carte"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),m("Combinaison email / mot de passe invalid ou email inexistant");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("form",{className:"form-login",onSubmit:b,children:[Object(O.jsx)("h1",{style:{color:"#222"},children:"Connexion"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"username",children:"Adresse email"}),Object(O.jsx)("input",{type:"email",name:"username",id:"username",className:"form-control"+(d&&" is-invalid"),value:r.username,onChange:j}),d&&Object(O.jsx)("p",{className:"invalid-feedback",children:d})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Mot de passe"}),Object(O.jsx)("input",{type:"password",name:"password",id:"password",className:"form-control",value:r.password,onChange:j})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("button",{type:"submit",className:"btn btn-success",children:"Je me connecte"})})]})})},I=function(e){var t=e.name,s=e.label,i=e.value,a=e.onChange,n=e.placeholder,c=void 0===n?"":n,r=e.type,o=void 0===r?"text":r,l=e.error,u=void 0===l?"":l,d=e.disabled,m=void 0===d?"":d;return Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:t,children:s}),Object(O.jsx)("input",{value:i,onChange:a,type:o,id:t,placeholder:c||s,name:t,disabled:m,className:"form-control"+(u&&" is-invalid")}),u&&Object(O.jsx)("p",{className:"invalid-feedback",children:u})]})},S=function(e){var t=e.history,s=Object(a.useState)({pseudo:"",email:"",password:"",passwordConfirm:""}),n=Object(i.a)(s,2),c=n[0],r=n[1],o=Object(a.useState)({pseudo:"",email:"",password:""}),l=Object(i.a)(o,2),u=l[0],d=l[1],m=function(e){var t=e.currentTarget,s=t.name,i=t.value;r(Object(w.a)(Object(w.a)({},c),{},Object(k.a)({},s,i)))},j=function(){var e=Object(y.a)(N.a.mark((function e(s){var i,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),i={},c.password===c.passwordConfirm){e.next=6;break}return i.passwordConfirm="Les deux mots de passes ne sont pas identiques",d(i),e.abrupt("return");case 6:return e.prev=6,e.next=9,C.register(c);case 9:e.sent,d({}),t.replace("/connexion"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),(a=e.t0.response.data.violations)&&(a.forEach((function(e){i[e.propertyPath]=e.message})),d(i));case 18:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Inscription"}),Object(O.jsxs)("form",{onSubmit:j,children:[Object(O.jsx)(I,{name:"pseudo",label:"Pseudo",placeholder:"Votre pseudo",onChange:m,value:c.pseudo,error:u.pseudo}),Object(O.jsx)(I,{name:"email",label:"Email",placeholder:"Votre email",onChange:m,value:c.email,error:u.email,type:"email"}),Object(O.jsx)(I,{name:"password",label:"Mot de passe",placeholder:"Votre mot de passe",onChange:m,value:c.password,error:u.password,type:"password"}),Object(O.jsx)(I,{name:"passwordConfirm",label:"Confirmation du mot de passe",placeholder:"Repetez le mot de passe",onChange:m,value:c.passwordConfirm,error:u.passwordConfirm,type:"password"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("button",{type:"submit",className:"btn btn-success",children:"Je m'inscrit"}),Object(O.jsx)(h.b,{to:"/connexion",className:"btn btn-link",children:"J'ai d\xe9j\xe0 un compte"})]})]})]})},F=function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"username-block mb-3 row",children:[Object(O.jsx)("h3",{className:"text-center pt-2 title-font",children:e.user.pseudo}),Object(O.jsx)(h.c,{className:"nav-link text-center",to:"/",children:"Messagerie"})]})})},J=function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"side-menu d-flex flex-wrap mt-3 p-3 row",children:[Object(O.jsx)("h3",{className:"text-center title-font",children:"Menu"}),Object(O.jsxs)(h.b,{to:"/carte",className:"side-menu-link d-flex flex-column align-items-center mr-3 col-4 text-decoration-none",children:[Object(O.jsx)("img",{className:"side-menu-icon",src:"/img/icons/map.svg",alt:""}),Object(O.jsx)("span",{children:"Carte"})]}),Object(O.jsxs)(h.b,{to:"/inventaire",className:"side-menu-link d-flex flex-column align-items-center mr-3 col-4 text-decoration-none",children:[Object(O.jsx)("img",{className:"side-menu-icon",src:"/img/icons/money-bag.svg",alt:""}),Object(O.jsx)("span",{children:"Inventaire"})]}),Object(O.jsxs)(h.b,{to:"/profil",className:"side-menu-link d-flex flex-column align-items-center mr-3 col-4 text-decoration-none",children:[Object(O.jsx)("img",{className:"side-menu-icon",src:"/img/icons/profile.svg",alt:""}),Object(O.jsx)("span",{children:"Profile"})]}),Object(O.jsxs)(h.b,{className:"side-menu-link d-flex flex-column align-items-center mr-3 col-4 text-decoration-none",children:[Object(O.jsx)("img",{className:"side-menu-icon",src:"/img/icons/guilde.svg",alt:""}),Object(O.jsx)("span",{children:"Guilde"})]}),Object(O.jsxs)(h.b,{className:"side-menu-link d-flex flex-column align-items-center mr-3 col-4 text-decoration-none",children:[Object(O.jsx)("img",{className:"side-menu-icon",src:"/img/icons/crown.svg",alt:""}),Object(O.jsx)("span",{children:"Classement"})]}),Object(O.jsxs)(h.b,{className:"side-menu-link d-flex flex-column align-items-center mr-3 col-4 text-decoration-none",children:[Object(O.jsx)("img",{className:"side-menu-icon",src:"/img/icons/historique.svg",alt:""}),Object(O.jsx)("span",{children:"Historique"})]})]})})},P=function(e){Object(a.useEffect)((function(){console.log(e)}),[]);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{onClick:function(){},className:"spell",style:{backgroundImage:"url(../../../img/icons/archer/"+e.spell.icone+")"}})})},T=function(e){var t=Object(a.useState)({}),s=Object(i.a)(t,2);s[0],s[1];return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"spell-bar offset-2 mt-2 d-flex px-4",children:Object(O.jsxs)("div",{className:"spells row align-items-center",children:[Object(O.jsx)("div",{className:"col-6 d-flex",children:e.spells.map((function(e){return Object(O.jsx)(P,{spell:e},e.name)}))}),Object(O.jsx)("div",{className:"col-5 offset-1"})]})})})},E=function(e){var t=Object(a.useState)({constitution:0,force:0,dexterite:0,intelligence:0,concentration:0,chance:0}),s=Object(i.a)(t,2),n=s[0],c=s[1];Object(a.useEffect)((function(){r(e.user.id)}),[]);var r=function(){var e=Object(y.a)(N.a.mark((function e(t){var s,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getCaracteristiques(t);case 2:s=e.sent,i=n,s.map((function(e){i=Object(w.a)(Object(w.a)({},i),{},Object(k.a)({},e.caracteristique.nom,e.points))})),c(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(e){var t=e.currentTarget,s=t.name,i=t.value;c(Object(w.a)(Object(w.a)({},n),{},Object(k.a)({},s,i)))};var l=function(e,t){c(Object(w.a)(Object(w.a)({},n),{},Object(k.a)({},e,t)))};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"profil",children:[Object(O.jsxs)("div",{className:"informations",children:[Object(O.jsx)("h2",{children:"Informations"}),Object(O.jsx)("span",{children:"Classe : Archer"}),Object(O.jsx)("span",{children:"Niveau : 12"}),Object(O.jsx)("span",{children:"guilde : aucune"}),Object(O.jsx)("span",{children:"Alignement : aucun"}),Object(O.jsx)("span",{children:"karma : malandrin"}),Object(O.jsx)("h2",{className:"mt-5",children:"Bonus \xe9quipement"}),Object(O.jsxs)("span",{children:["constitution : ",Object(O.jsx)("span",{className:"font-weight-bold",children:" + 18 "})]}),Object(O.jsxs)("span",{children:["force : ",Object(O.jsx)("span",{className:"font-weight-bold",children:" + 74 "})]}),Object(O.jsxs)("span",{children:["dexterit\xe9 : ",Object(O.jsx)("span",{className:"font-weight-bold",children:" +118 "})]}),Object(O.jsxs)("span",{children:["intelligence : ",Object(O.jsx)("span",{className:"font-weight-bold",children:" + 2 "})]}),Object(O.jsxs)("span",{children:["concentration :",Object(O.jsx)("span",{className:"font-weight-bold",children:" + 1 "})]}),Object(O.jsxs)("span",{children:["chance : ",Object(O.jsx)("span",{className:"font-weight-bold",children:" + 12 "})]})]}),Object(O.jsxs)("div",{className:"equipement",children:[Object(O.jsx)("h2",{children:"Equipement"}),Object(O.jsx)("img",{className:"mt-3 ml-3",src:"../img/sprites/enemies/actor1_5.png"}),Object(O.jsx)("div",{className:"item-case archer bottes"}),Object(O.jsx)("div",{className:"item-case archer bras"}),Object(O.jsx)("div",{className:"item-case archer arme"}),Object(O.jsx)("div",{className:"item-case archer tete"}),Object(O.jsx)("div",{className:"item-case archer corps"})]}),Object(O.jsxs)("div",{className:"caracteristiques",children:[Object(O.jsx)("h2",{children:"Caracteristique (5)"}),Object(O.jsxs)("div",{className:"champ-caracteristique",children:[Object(O.jsx)("button",{className:"btn-caracteristique",onClick:function(){return l("constitution",n.constitution+1)},children:Object(O.jsx)("i",{children:"+"})}),Object(O.jsx)(I,{className:"",disabled:"disabled",name:"constitution",label:"Constitution",placeholder:"",onChange:o,value:n.constitution}),Object(O.jsx)("button",{className:"btn-caracteristique-reverse",onClick:function(){return l("constitution",n.constitution-1)},children:Object(O.jsx)("i",{children:"-"})})]}),Object(O.jsxs)("div",{className:"champ-caracteristique",children:[Object(O.jsx)("button",{className:"btn-caracteristique",onClick:function(){return l("force",n.force+1)},children:Object(O.jsx)("i",{children:"+"})}),Object(O.jsx)(I,{disabled:"disabled",name:"force",label:"Force",placeholder:"",onChange:o,value:n.force}),Object(O.jsx)("button",{className:"btn-caracteristique-reverse",onClick:function(){return l("force",n.force-1)},children:Object(O.jsx)("i",{children:"-"})})]}),Object(O.jsxs)("div",{className:"champ-caracteristique",children:[Object(O.jsx)("button",{className:"btn-caracteristique",onClick:function(){return l("dexterite",n.dexterite+1)},children:Object(O.jsx)("i",{children:"+"})}),Object(O.jsx)(I,{disabled:"disabled",name:"dexterite",label:"Dext\xe9rit\xe9",placeholder:"",onChange:o,value:n.dexterite}),Object(O.jsx)("button",{className:"btn-caracteristique-reverse",onClick:function(){return l("dexterite",n.dexterite-1)},children:Object(O.jsx)("i",{children:"-"})})]}),Object(O.jsxs)("div",{className:"champ-caracteristique",children:[Object(O.jsx)("button",{className:"btn-caracteristique",onClick:function(){return l("intelligence",n.intelligence+1)},children:Object(O.jsx)("i",{children:"+"})}),Object(O.jsx)(I,{disabled:"disabled",name:"intelligence",label:"Intelligence",placeholder:"",onChange:o,value:n.intelligence}),Object(O.jsx)("button",{className:"btn-caracteristique-reverse",onClick:function(){return l("intelligence",n.intelligence-1)},children:Object(O.jsx)("i",{children:"-"})})]}),Object(O.jsxs)("div",{className:"champ-caracteristique",children:[Object(O.jsx)("button",{className:"btn-caracteristique",onClick:function(){return l("concentration",n.concentration+1)},children:Object(O.jsx)("i",{children:"+"})}),Object(O.jsx)(I,{disabled:"disabled",name:"concentration",label:"Concentration",placeholder:"",onChange:o,value:n.concentration}),Object(O.jsx)("button",{className:"btn-caracteristique-reverse",onClick:function(){return l("concentration",n.concentration-1)},children:Object(O.jsx)("i",{children:"-"})})]}),Object(O.jsxs)("div",{className:"champ-caracteristique",children:[Object(O.jsx)("button",{className:"btn-caracteristique",onClick:function(){return l("chance",n.chance+1)},children:Object(O.jsx)("i",{children:"+"})}),Object(O.jsx)(I,{disabled:"disabled",name:"chance",label:"Chance",placeholder:"",onChange:o,value:n.chance}),Object(O.jsx)("button",{className:"btn-caracteristique-reverse",onClick:function(){return l("chance",n.chance-1)},children:Object(O.jsx)("i",{children:"-"})})]}),Object(O.jsx)("div",{className:"champ-caracteristique",children:Object(O.jsx)("button",{className:"btn-valider-caracs",onClick:function(){console.log("ho hoo nique ta mere"),C.updateCaracteristiques(n)},children:" Valider "})})]})]}),Object(O.jsxs)("div",{className:"profil mt-5",children:[Object(O.jsxs)("div",{className:"statistiques",children:[Object(O.jsx)("h2",{children:"Statistiques g\xe9n\xe9rale"}),Object(O.jsx)("span",{children:" Exp\xe9rience totale : 3 080 690"}),Object(O.jsx)("span",{children:" Nombre monstre tu\xe9s : 5650"}),Object(O.jsx)("span",{children:" Richesse max : 1 691 254"}),Object(O.jsx)("span",{children:" Morts : 74"}),Object(O.jsx)("span",{children:" Argent vol\xe9 : 11 256"})]}),Object(O.jsxs)("div",{className:"statistiques",children:[Object(O.jsx)("h2",{children:"Joueur contre joueur"}),Object(O.jsx)("span",{children:" Exp\xe9rience totale : 3 080 690"}),Object(O.jsx)("span",{children:" Nombre monstre tu\xe9s : 5650"}),Object(O.jsx)("span",{children:" Richesse max : 1 691 254"}),Object(O.jsx)("span",{children:" Morts : 74"}),Object(O.jsx)("span",{children:" Argent vol\xe9 : 11 256"})]})]})]})};var M={findAll:function(){return l.a.get(j).then((function(e){return e.data["hydra:member"]}))},find:function(e){return l.a.get(j+"/"+e).then((function(e){return e.data}))}},L=s(74),D=function(e){var t=e.user,s=Math.ceil(t.currentLife/t.maxLife*100),i=Math.ceil(t.currentMana/t.maxMana*100);return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"user-stats-block py-3 px-3 row",children:[Object(O.jsx)("h3",{className:"text-center title-font",children:"Statistiques"}),Object(O.jsxs)("div",{className:"bars mb-3",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center w100",children:[Object(O.jsx)("img",{className:"life-icon mr-2",src:"/img/icons/pixel-life.png"}),Object(O.jsx)(L.a,{className:"progress-bar-stats",variant:"danger",now:s,label:t.currentLife+" / "+t.maxLife})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center w100",children:[Object(O.jsx)("img",{className:"mana-icon mr-2",src:"/img/icons/mana.png"}),Object(O.jsx)(L.a,{className:"progress-bar-stats",variant:"info",now:i,label:t.currentMana+" / "+t.maxMana})]})]}),Object(O.jsx)("div",{className:"gold",children:Object(O.jsxs)("span",{children:[Object(O.jsx)("img",{className:"coin-icon",src:"/img/icons/coin.svg"})," ",t.money," Or"]})}),Object(O.jsxs)("div",{className:"raw",children:[Object(O.jsxs)("span",{className:"pm col-4",children:["PM : ",t.mouvementPoint]}),Object(O.jsxs)("span",{className:"pa offset-2 col-4",children:["PA : ",t.actionPoint]})]})]})})},B=s(17),z=s(18),R=s(20),U=s(19),K=(s(70),n.a.createContext({target:{},setTarget:function(e){},isPlayer:!1,setIsPlayer:function(e){}})),V=function(e){var t=Object(a.useContext)(K),s=t.setTarget,i=(t.setIsPlayer,t.target);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"joueur",onClick:function(){console.log(e.player),s(e.player),console.log(i)},children:Object(O.jsxs)("div",{className:"joueur-hover d-none flex-column",children:[Object(O.jsx)("div",{className:"joueur-name",children:e.player.pseudo}),Object(O.jsxs)("div",{className:"joueur-level",children:["Niveau : ",e.player.niveau," 12"]}),e.player.alignement&&Object(O.jsx)("div",{className:"joueur-name",children:e.player.pseudo})]})})})},_=function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"case",style:{border:"rgba(255, 255, 255, .5) 1px solid"},children:e.otherPlayer&&Object(O.jsx)(V,{player:e.otherPlayer})})})},G=function(e){Object(R.a)(s,e);var t=Object(U.a)(s);function s(e){var i;return Object(B.a)(this,s),(i=t.call(this,e)).state={cases:[],name:"",abscisseJoueur:i.props.user.caseAbscisse,ordonneeJoueur:i.props.user.caseOrdonnee,users:[]},i}return Object(z.a)(s,[{key:"componentDidMount",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.context,e.prev=1,e.next=4,M.find(this.props.user.map.id);case 4:t=e.sent,this.setState({cases:t.carteCarreaux,name:t.nom}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:this.listenKeyboard();case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"listenKeyboard",value:function(){var e=this;document.addEventListener("keypress",(function(t){return e.handleKeybord(t)}))}},{key:"handleKeybord",value:function(e){switch(e.key){case"z":this.up();var t=Object(w.a)(Object(w.a)({},this.props.user),{},{caseAbscisse:this.state.abscisseJoueur,caseOrdonnee:this.state.ordonneeJoueur});this.updatePosition(t);break;case"s":this.down();t=Object(w.a)(Object(w.a)({},this.props.user),{},{caseAbscisse:this.state.abscisseJoueur,caseOrdonnee:this.state.ordonneeJoueur});this.updatePosition(t);break;case"q":this.left();t=Object(w.a)(Object(w.a)({},this.props.user),{},{caseAbscisse:this.state.abscisseJoueur,caseOrdonnee:this.state.ordonneeJoueur});this.updatePosition(t);break;case"d":this.right();t=Object(w.a)(Object(w.a)({},this.props.user),{},{caseAbscisse:this.state.abscisseJoueur,caseOrdonnee:this.state.ordonneeJoueur});this.updatePosition(t)}this.refreshMap()}},{key:"updatePosition",value:function(){var e=Object(y.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.updatePosition(t.id,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshMap",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.find(1);case 2:t=e.sent,this.setState({cases:t.carteCarreaux,name:t.nom});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"up",value:function(){var e=this.state.ordonneeJoueur-1;this.setState({ordonneeJoueur:e})}},{key:"down",value:function(){var e=this.state.ordonneeJoueur+1;this.setState({ordonneeJoueur:e})}},{key:"left",value:function(){var e=this.state.abscisseJoueur-1;this.setState({abscisseJoueur:e})}},{key:"right",value:function(){var e=this.state.abscisseJoueur+1;this.setState({abscisseJoueur:e})}},{key:"render",value:function(){var e=this;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"banner-map",children:Object(O.jsx)("h1",{className:"text-center title-map-font",children:this.state.name})}),Object(O.jsx)("div",{className:"cases",style:{backgroundImage:"url(../../../img/map/1.png)"},children:this.state.cases.map((function(t){return Object(O.jsx)(_,{data:t.carreau,haveJoueur:e.state.abscisseJoueur==t.abscisse&&e.state.ordonneeJoueur==t.ordonnee,otherPlayer:!!t.joueur&&t.joueur},t.id)}))})]})}}]),s}(n.a.Component);G.contextType=K;var H=G,W=function(e){var t=Object(a.useState)({}),s=Object(i.a)(t,2),n=s[0],c=s[1];Object(a.useEffect)((function(){r()}),[]);var r=function(){var e=Object(y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=C,e.next=3,p.getUserInfo().id;case 3:return e.t1=e.sent,e.next=6,e.t0.find.call(e.t0,e.t1);case 6:t=e.sent,c(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("main",{className:"map-page",children:Object(O.jsxs)("div",{className:"top-container raw",children:[Object(O.jsxs)("div",{className:"side-block px-5",children:[Object(O.jsx)(F,{user:n}),Object(O.jsx)(D,{user:n}),Object(O.jsx)(J,{})]}),Object(O.jsx)("div",{className:"profil-container col-8",children:Object(O.jsx)(E,{user:n})})]})})})},Y=function(e){var t=e.path,s=e.component;return Object(a.useContext)(x).isAuthenticated?Object(O.jsx)(g.b,{path:t,component:s}):Object(O.jsx)(g.a,{to:"/login"})},Q=s(40),X=function(e){return Object(O.jsxs)(Q.a,Object(w.a)(Object(w.a)({speed:2,width:1200,height:800,viewBox:"0 0 400 150",backgroundColor:"#302c2c",foregroundColor:"#8093c2"},e),{},{children:[Object(O.jsx)("circle",{cx:"579",cy:"228",r:"8"}),Object(O.jsx)("rect",{x:"568",y:"224",rx:"5",ry:"5",width:"220",height:"10"}),Object(O.jsx)("circle",{cx:"586",cy:"225",r:"8"}),Object(O.jsx)("rect",{x:"554",y:"220",rx:"5",ry:"5",width:"220",height:"10"}),Object(O.jsx)("circle",{cx:"595",cy:"232",r:"8"}),Object(O.jsx)("rect",{x:"568",y:"229",rx:"5",ry:"5",width:"220",height:"10"}),Object(O.jsx)("circle",{cx:"595",cy:"262",r:"8"}),Object(O.jsx)("rect",{x:"559",y:"227",rx:"5",ry:"5",width:"220",height:"10"}),Object(O.jsx)("rect",{x:"579",y:"225",rx:"0",ry:"0",width:"134",height:"15"}),Object(O.jsx)("rect",{x:"478",y:"196",rx:"0",ry:"0",width:"208",height:"46"}),Object(O.jsx)("rect",{x:"131",y:"10",rx:"0",ry:"0",width:"325",height:"176"}),Object(O.jsx)("rect",{x:"531",y:"219",rx:"0",ry:"0",width:"158",height:"14"}),Object(O.jsx)("circle",{cx:"433",cy:"214",r:"66"})]}))},Z=function(e){return Object(O.jsxs)(O.Fragment,{children:[console.log(e.player),console.log(e.playerTargeted),Object(O.jsx)("h3",{className:"text-center title-font",children:"Ciblage"}),e.playerTargeted&&Object(O.jsx)("div",{className:"block-joueur-cible p-3",children:Object(O.jsxs)("div",{className:"joueur-cible",children:[Object(O.jsxs)("h4",{className:"joueur-cible-name",children:[e.player.pseudo," / ",e.player.classe.nom," niveau 18"]}),Object(O.jsxs)("div",{className:"d-flex align-items-center w100",children:[Object(O.jsx)("img",{src:"/img/avatar/guerrier.png",alt:"avatar",className:"target-avatar"}),Object(O.jsx)("img",{className:"life-icon mr-2",src:"/img/icons/pixel-life.png"}),Object(O.jsx)(L.a,{className:"progress-bar-stats",variant:"danger",now:"44"})]})]})})||Object(O.jsx)("span",{children:"Aucune cible"})]})},$=function(e){Object(R.a)(s,e);var t=Object(U.a)(s);function s(e){var i;return Object(B.a)(this,s),(i=t.call(this,e)).state={user:{},display:!1,target:{},isPlayer:!1,playerTargeted:!1},i}return Object(z.a)(s,[{key:"componentDidMount",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=C,e.next=3,p.getUserInfo().id;case 3:return e.t1=e.sent,e.next=6,e.t0.find.call(e.t0,e.t1);case 6:t=e.sent,this.setState({user:t,display:!0});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={target:!0,setTarget:function(t){return e.setState({target:t,playerTargeted:!0})}};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(K.Provider,{value:t,children:Object(O.jsxs)("main",{className:"map-page",children:[Object(O.jsxs)("div",{className:"top-container raw",children:[Object(O.jsxs)("div",{className:"side-block px-5",children:[Object(O.jsx)(F,{user:this.state.user}),Object(O.jsx)(D,{user:this.state.user}),Object(O.jsx)(J,{}),Object(O.jsx)(Z,{player:this.state.target,playerTargeted:this.state.playerTargeted})]}),Object(O.jsx)("div",{className:"map-container mr-5",children:this.state.display&&Object(O.jsx)(H,{user:this.state.user})||Object(O.jsx)(X,{})})]}),Object(O.jsx)("div",{className:"footer-block",children:this.state.display&&Object(O.jsx)(T,{spells:this.state.user.classe.sortileges,player:this.state.target,playerTargeted:this.state.playerTargeted})})]})})})}}]),s}(n.a.Component),ee=function(e){return Object(O.jsx)(O.Fragment,{})},te=function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"side-block",children:[Object(O.jsx)(F,{}),Object(O.jsx)(J,{})]}),Object(O.jsx)(ee,{}),Object(O.jsx)("div",{className:"footer-block",children:Object(O.jsx)(T,{})})]})};s(72),s(73);p.setup();var se=function(){var e=Object(a.useState)(p.isAuthenticated()),t=Object(i.a)(e,2),s=t[0],n=t[1],c=Object(g.g)(v),r={isAuthenticated:s,setIsAuthenticated:n};return Object(O.jsx)(x.Provider,{value:r,children:Object(O.jsxs)(h.a,{children:[Object(O.jsx)(c,{}),Object(O.jsx)("main",{className:s?"pt-5":"",children:Object(O.jsxs)(g.d,{children:[Object(O.jsx)(g.b,{path:"/connexion",component:A}),Object(O.jsx)(g.b,{path:"/inscription",component:S}),Object(O.jsx)(g.b,{path:"/preview",component:S}),Object(O.jsx)(g.b,{path:"/about",component:S}),Object(O.jsx)(Y,{path:"/profil",component:W}),Object(O.jsx)(Y,{path:"/carte",component:$}),Object(O.jsx)(Y,{path:"/inventory",component:te}),Object(O.jsx)(g.b,{path:"/",component:f})]})}),Object(O.jsx)("footer",{className:"footer",children:"Clement Silvestre - jeu en cours de construction"})]})})},ie=document.querySelector("#app");r.a.render(Object(O.jsx)(se,{}),ie)}},[[71,1,2]]]);
//# sourceMappingURL=main.3f3c3005.chunk.js.map